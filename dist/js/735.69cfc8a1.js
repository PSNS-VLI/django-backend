"use strict";(self["webpackChunkERP_Experiment"]=self["webpackChunkERP_Experiment"]||[]).push([[735],{6251:function(t,e,n){n.d(e,{Z:function(){return _}});n(26699),n(32023);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[t.operation?e("div",{staticClass:"table-operation"},[e("a-row",{attrs:{gutter:48}},[t.operation.includes("edit")?e("a-col",{attrs:{md:3,sm:6}},[e("a-button",{attrs:{type:t.isEdit?"default":"primary",icon:"edit"},on:{click:function(e){t.isEdit=!t.isEdit}}},[t.isEdit?[t._v("取消编辑")]:[t._v("编辑")]],2)],1):t._e(),t.operation.includes("add")?e("a-col",{attrs:{md:3,sm:6}},[e("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v(" 新增 ")])],1):t._e(),t.operation.includes("delete")?e("a-col",{attrs:{md:3,sm:6}},[e("a-button",{attrs:{type:t.isDelete?"default":"primary",icon:"delete"},on:{click:function(e){t.isDelete=!t.isDelete}}},[t.isDelete?[t._v("取消删除")]:[t._v("删除")]],2)],1):t._e(),t.operation.includes("search")?e("a-col",{attrs:{md:6,sm:6}},[e("a-input-search",{attrs:{placeholder:"Search"}})],1):t._e()],1)],1):t._e(),e("div",{staticClass:"table-wrapper"},[t.hasSide?e("a-table",{attrs:{bordered:"",columns:t.sideColumns,locale:t.locale}},[t.title?e("template",{slot:"title"},[e("div",{staticClass:"table-title"},[t._v(t._s(t.title))])]):t._e()],2):t._e(),e("a-table",{attrs:{bordered:"",columns:t.mainColAndScoped.columns,"data-source":t.mainData,pagination:!1},scopedSlots:t._u([t._l(t.mainColAndScoped.dataIndexList,(function(n){return{key:n,fn:function(a,i,r){return["operation"!==n?e("div",{key:n},[t.mainColAndScoped.textFields.includes(n)?e("div",[e("keep-alive",[t.isEdit&&!t.frozenList.includes(n)?e("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:a},on:{input:function(e){return t.handleChange(e.target.value,i,r,n)}}}):e("div",[t._v(" "+t._s(a)+" ")])],1)],1):e("div",[e("keep-alive",[t.isEdit&&!t.frozenList.includes(n)?e("a-input-number",{staticStyle:{margin:"-5px 0"},attrs:{value:a},on:{change:function(e){return t.handleChange(e,i,r,n)}}}):e("div",[t._v(" "+t._s(a)+" ")])],1)],1)]):t._e(),"operation"===n&&t.isDelete?e("div",{key:n},[e("a-popconfirm",{attrs:{title:"确认删除?"},on:{confirm:function(){return t.handleDelete(i)}}},[e("a",{attrs:{href:"javascript:;"}},[t._v("Delete")])])],1):t._e()]}}}))],null,!0)},[!t.hasSide&&t.title?e("template",{slot:"title"},[e("div",{staticClass:"table-title"},[t._v(t._s(t.title))])]):t._e()],2)],1)])},i=[],r=n(3360),s=(n(41539),n(54747),n(34553),n(40561),n(92222),n(39714),n(21249),n(69826),n(83465)),l=n.n(s),o=function(){var t=this,e=t._self._c;return e("div")},u=[],d={data:function(){return{}}},c=d,p=n(1001),m=(0,p.Z)(c,o,u,!1,null,null,null),f=m.exports,h={model:{prop:"mainData",event:"change"},props:{title:{type:String,default:""},hasSide:{type:Boolean,default:!0},operation:{type:String,default:""},sideColumns:{type:Array,default:function(){return[]}},frozenList:{type:Array,default:function(){return[]}},mainColumns:{type:Array,default:function(){return[]}},mainData:{type:Array,default:function(){return[]}}},data:function(){var t=this.$createElement;return this.locale={emptyText:t(f)},{isEdit:!1,isDelete:!1}},computed:{mainColAndScoped:function(){var t=l()(this.mainColumns),e=[],n=[];function a(t){t.forEach((function(t){t.dataIndex?(t.scopedSlots={customRender:t.dataIndex},e.push(t.dataIndex),t.type&&"text"===t.type&&n.push(t.dataIndex)):t.children&&a(t.children)}))}if(a(t),this.isDelete)t.push({title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}),e.push("operation");else{var i=t.findIndex((function(t){return"operation"===t.dataIndex})),r=t.findIndex((function(t){return"operation"===t.dataIndex}));t.splice(i>=0?i:t.length,1),e.splice(r>=0?r:e.length,1)}return{columns:t,dataIndexList:e,textFields:n}},inputListeners:function(){return Object.assign({},this.$linsteners,{blur:function(){this.$emit("change")}})}},methods:{handleAdd:function(){this.$emit("change",this.mainData.concat([Object.assign({key:Date.now().toString()},this.mainColAndScoped.dataIndexList.reduce((function(t,e){return t[e]=0,t}),{}))]))},handleDelete:function(t){var e=l()(this.mainData);e.splice(e.findIndex((function(e){return e.key===t.key})),1),this.$emit("change",e)},handleChange:function(t,e,n,a){var i=this.mainData.map((function(t){return(0,r.Z)({},t)}));i.find((function(t){return t.key===e.key}))[a]=t,this.$emit("change",i)}}},v=h,C=(0,p.Z)(v,a,i,!1,null,"8642ca34",null),_=C.exports},63735:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var a=function(){var t=this,e=t._self._c;return e("page-header-wrapper",[e("a-card",{attrs:{bordered:!1}},[e("CRP",{attrs:{frozenList:t.frozenList,mainColumns:t.mainColumns,tableData:t.tableData}})],1)],1)},i=[],r=n(50686),s=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-wrapper"},[e("ErpTable",{attrs:{title:"PA26-50 的CRP",operation:"edit",hasSide:!1,frozenList:t.frozenList,mainColumns:t.mainColumns},model:{value:t.mainData,callback:function(e){t.mainData=e},expression:"mainData"}})],1)])},l=[],o=n(83465),u=n.n(o),d=n(6251),c={components:{ErpTable:d.Z},props:{mainColumns:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},frozenList:{type:Array,default:function(){return["name"]}}},data:function(){return{mainData:[]}},watch:{tableData:{immediate:!0,handler:function(t){this.mainData=u()(t)}}},method:{}},p=c,m=n(1001),f=(0,m.Z)(p,s,l,!1,null,"6a40a7e1",null),h=f.exports,v={components:{CRP:h},data:function(){return{frozenList:["name","department_center"],mainColumns:[],tableData:[]}},created:function(){var t=["WC02","WC07","WC15","WC02","WC07","WC23","WC39"];this.mainColumns=(0,r.wR)("crp",[2,2,3]),this.tableData=(0,r.s)("crp",[2,2,3],{tableData:["ZXCA-F2","A1","A2","B","C1","C2","D"],keyFn:function(e,n){return{department_center:t[n]}}})},methods:{}},C=v,_=(0,m.Z)(C,a,i,!1,null,null,null),y=_.exports}}]);