"use strict";(self["webpackChunkERP_Experiment"]=self["webpackChunkERP_Experiment"]||[]).push([[289],{6251:function(t,e,n){n.d(e,{Z:function(){return _}});n(26699),n(32023);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[t.operation?e("div",{staticClass:"table-operation"},[e("a-row",{attrs:{gutter:48}},[t.operation.includes("edit")?e("a-col",{attrs:{md:3,sm:6}},[e("a-button",{attrs:{type:t.isEdit?"default":"primary",icon:"edit"},on:{click:function(e){t.isEdit=!t.isEdit}}},[t.isEdit?[t._v("取消编辑")]:[t._v("编辑")]],2)],1):t._e(),t.operation.includes("add")?e("a-col",{attrs:{md:3,sm:6}},[e("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v(" 新增 ")])],1):t._e(),t.operation.includes("delete")?e("a-col",{attrs:{md:3,sm:6}},[e("a-button",{attrs:{type:t.isDelete?"default":"primary",icon:"delete"},on:{click:function(e){t.isDelete=!t.isDelete}}},[t.isDelete?[t._v("取消删除")]:[t._v("删除")]],2)],1):t._e(),t.operation.includes("search")?e("a-col",{attrs:{md:6,sm:6}},[e("a-input-search",{attrs:{placeholder:"Search"}})],1):t._e()],1)],1):t._e(),e("div",{staticClass:"table-wrapper"},[t.hasSide?e("a-table",{attrs:{bordered:"",columns:t.sideColumns,locale:t.locale}},[t.title?e("template",{slot:"title"},[e("div",{staticClass:"table-title"},[t._v(t._s(t.title))])]):t._e()],2):t._e(),e("a-table",{attrs:{bordered:"",columns:t.mainColAndScoped.columns,"data-source":t.mainData,pagination:!1},scopedSlots:t._u([t._l(t.mainColAndScoped.dataIndexList,(function(n){return{key:n,fn:function(a,i,r){return["operation"!==n?e("div",{key:n},[t.mainColAndScoped.textFields.includes(n)?e("div",[e("keep-alive",[t.isEdit&&!t.frozenList.includes(n)?e("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:a},on:{input:function(e){return t.handleChange(e.target.value,i,r,n)}}}):e("div",[t._v(" "+t._s(a)+" ")])],1)],1):e("div",[e("keep-alive",[t.isEdit&&!t.frozenList.includes(n)?e("a-input-number",{staticStyle:{margin:"-5px 0"},attrs:{value:a},on:{change:function(e){return t.handleChange(e,i,r,n)}}}):e("div",[t._v(" "+t._s(a)+" ")])],1)],1)]):t._e(),"operation"===n&&t.isDelete?e("div",{key:n},[e("a-popconfirm",{attrs:{title:"确认删除?"},on:{confirm:function(){return t.handleDelete(i)}}},[e("a",{attrs:{href:"javascript:;"}},[t._v("Delete")])])],1):t._e()]}}}))],null,!0)},[!t.hasSide&&t.title?e("template",{slot:"title"},[e("div",{staticClass:"table-title"},[t._v(t._s(t.title))])]):t._e()],2)],1)])},i=[],r=n(3360),o=(n(41539),n(54747),n(34553),n(40561),n(92222),n(39714),n(21249),n(69826),n(83465)),s=n.n(o),l=function(){var t=this,e=t._self._c;return e("div")},c=[],d={data:function(){return{}}},u=d,p=n(1001),h=(0,p.Z)(u,l,c,!1,null,null,null),m=h.exports,f={model:{prop:"mainData",event:"change"},props:{title:{type:String,default:""},hasSide:{type:Boolean,default:!0},operation:{type:String,default:""},sideColumns:{type:Array,default:function(){return[]}},frozenList:{type:Array,default:function(){return[]}},mainColumns:{type:Array,default:function(){return[]}},mainData:{type:Array,default:function(){return[]}}},data:function(){var t=this.$createElement;return this.locale={emptyText:t(m)},{isEdit:!1,isDelete:!1}},computed:{mainColAndScoped:function(){var t=s()(this.mainColumns),e=[],n=[];function a(t){t.forEach((function(t){t.dataIndex?(t.scopedSlots={customRender:t.dataIndex},e.push(t.dataIndex),t.type&&"text"===t.type&&n.push(t.dataIndex)):t.children&&a(t.children)}))}if(a(t),this.isDelete)t.push({title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}),e.push("operation");else{var i=t.findIndex((function(t){return"operation"===t.dataIndex})),r=t.findIndex((function(t){return"operation"===t.dataIndex}));t.splice(i>=0?i:t.length,1),e.splice(r>=0?r:e.length,1)}return{columns:t,dataIndexList:e,textFields:n}},inputListeners:function(){return Object.assign({},this.$linsteners,{blur:function(){this.$emit("change")}})}},methods:{handleAdd:function(){this.$emit("change",this.mainData.concat([Object.assign({key:Date.now().toString()},this.mainColAndScoped.dataIndexList.reduce((function(t,e){return t[e]=0,t}),{}))]))},handleDelete:function(t){var e=s()(this.mainData);e.splice(e.findIndex((function(e){return e.key===t.key})),1),this.$emit("change",e)},handleChange:function(t,e,n,a){var i=this.mainData.map((function(t){return(0,r.Z)({},t)}));i.find((function(t){return t.key===e.key}))[a]=t,this.$emit("change",i)}}},v=f,b=(0,p.Z)(v,a,i,!1,null,"8642ca34",null),_=b.exports},62289:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var a=function(){var t=this,e=this,n=e._self._c;return n("page-header-wrapper",{attrs:{"tab-list":e.tabList,"tab-active-key":e.tabActiveKey,"tab-change":function(e){t.tabActiveKey=e}}},[n("a-card",{attrs:{bordered:!1}},[n("keep-alive",[n(e.tabActiveKey,{tag:"component"})],1)],1)],1)},i=[],r=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{bordered:!1}},[e("ErpTable",{attrs:{operation:"edit, delete, add",title:"工作中心和工作中心的可用能力",hasSide:!1,mainColumns:t.wccColumns,mainData:t.wccMainData},on:{change:function(e){return t.handleChange(e,"wcc")}}})],1),e("a-card",{attrs:{bordered:!1}},[e("ErpTable",{attrs:{operation:"edit, add",title:"工作中心的等待、移动、排队时间",frozenList:t.frozenList,hasSide:!1,mainColumns:t.wctColumns,mainData:t.wctMainData},on:{change:function(e){return t.handleChange(e,"wct")}}})],1)],1)},o=[],s=n(65355),l=n(88348),c=n(6251),d={components:{ErpTable:c.Z},data:function(){return this.frozenList=["name"],{wccColumns:(0,s.Z)(l.oJ),wctColumns:(0,s.Z)(l.k9),wccMainData:[],wctMainData:[]}},methods:{handleChange:function(t,e){"wcc"===e?this.wccMainData=t:this.wctMainData=t}}},u=d,p=n(1001),h=(0,p.Z)(u,r,o,!1,null,"11c6c28b",null),m=h.exports,f=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{bordered:!1}},[e("ErpTable",{attrs:{operation:"edit, add",title:"ZXCA-F2的工艺路线和额定工时",hasSide:!1,mainColumns:t.mainColumns,mainData:t.mainData},on:{change:function(e){return t.handleChange(e,"wct")}}})],1)],1)},v=[],b={components:{ErpTable:c.Z},data:function(){return{mainColumns:(0,s.Z)(l.sH),mainData:[]}},methods:{handleChange:function(t,e){this.mainData=t}}},_=b,y=(0,p.Z)(_,f,v,!1,null,"8a5596a0",null),C=y.exports,g={components:{WorkCenter:m,ProcessRoute:C},data:function(){return this.tabList=[{key:"WorkCenter",tab:"工作中心"},{key:"ProcessRoute",tab:"工艺路线"}],{tabActiveKey:"WorkCenter"}}},D=g,x=(0,p.Z)(D,a,i,!1,null,"318e34cc",null),k=x.exports}}]);